Version BioPortal: 
The script can be run with a path to neo4j and a path to the project.
First map the AEOLUS outcome and the AEOLUS drugs. After that, the connections are integrated.

First, the outcome is mapped to Side Effect (SE) and Disease:
    First, load api key into the program.
    Loaded, and already gathered information from BioPortal and wrote it into the dictionary. If not generate a new file.
    Next, load all side effects and write their information into dictionaries.
    Then, load the Aeolus outcome nodes and write their information into dictionaries and lists.
    In the following, all disease nodes are loaded and written into the dictionaries.
    Next, all MedDRA information in Aeolus's outcome which was not in the TSV file before are asked and added to the TSV file.
    Next,  are the mapping steps:
        First, the AEOLUS outcome map with name to SE name.
        Second, the AEOLUS outcome MedDRA ID to UMLS cui from BioPortal is used to map to the SE identifier.
        The nodes that did not map to SE are tried to map to Disease. Therefore, it uses mapping with MedDRA to the external references MedDRA ID in Disease. 
        The rest is mapped with UMLS Cui to external references and name to name of Disease. 
        The nodes that are not mapped but have a UMLS CUI are added to a TSV to generate new SE nodes.
    For all mapped outcomes a TSV file for SE and disease is generated. Additionally, A cypher file integrates the mapping information and the new node.

Next, the AEOLUS drugs are mapped to Chemical:
    The mapping of the AEOLUS drugs has many different methods:
    1. Mapped RXNORM cui to Drugbank IDs with the use of the RXNORM database.
    2. Mapped RXNORM Cui to Drugbank IDs with a mapped table which used the unii and InChIKey to generate the connection
    3. Mapped RXNORM Cui to Drugbank IDs with a mapped table, which was generated with name mapping. 
    4. Mapped RXNORM Cui to MESH IDs with the use of the RXNORM database.
    All mappings are written in a mapping TSV file. Additionally, a cypher query to integrate the mapped node information into the database is added to the cypher file (generated by the other program).

The cypher file for the nodes is executed with the cypher-shell tool.

For the relationships, a filter is used, because sometimes there are also diseases in outcomes that the drug should treat.
So, the indicates table is also considered to remove all pairs where the drug indicates the outcome.
Additionally, to not have only a few cases where this outcome appears it considers all cases where this combination appears at least 100 times.
Furthermore, it should have at least a total frequency of 0.1% for the appearance of the drug-outcome. 
This program generates a file for drug-disease and drug-outcome pairs where the drug is mapped to chemical and the outcome is mapped to Disease or SE.
Additionally, for pairs that appear multiple times, the information is combined to one edge. Also, a cypher file is generated with queries to integrate the chemical-disease and chemical-SE edges. The edge chemical-disease is called might_induces. For chemical-SE it is might_causes.

In the last step, the last cypher file is used to integrate the edges into Neo4j.


License: https://www.bioontology.org/terms/
Whetzel PL, Noy NF, Shah NH, Alexander PR, Nyulas C, Tudorache T, Musen MA. BioPortal: enhanced functionality via new Web services from the National Center for Biomedical Ontology to access and use ontologies in software applications. Nucleic Acids Res. 2011 Jul;39(Web Server issue):W541-5. Epub 2011 Jun 14.
